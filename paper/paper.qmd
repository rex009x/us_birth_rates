---
title: "A Deeper Analysis into the Trends and Factors of the US's Declining Birth Rates"
#subtitle: "My subtitle if needed"
author: 
  - Maroosh Gillani
  - Aaron Liu
  - Jimmy Luc
thanks: "Code and data are available at: https://github.com/rex009x/us_birth_rates/tree/master/data . A replication of various aspects in this paper are available at: LINK ."
date: today
date-format: long
abstract: "Over the last couple of years, the American population has been witnessing a steady decline in their birth rates, as suggested by [@citeOriginalReplication]'s data from the American Economic Association. Through the analysis of multiple different factors, such as age and education, we notice a continual decline in birth rate starting from the year 2007. We explore how different social, cultural, and economic effects play a part in this worrying trend. This report sheds light on how the societal trends in the recent years have affected the American citizens in the last few decades, and how these patterns have played a part in this downward trend as people adapt to them."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---
```{r, include=FALSE, warning=FALSE, message=FALSE, echo=FALSE}
# workplace setup


library(tidyverse)
library(dplyr)
library(ggplot2)
library(here)
library(haven)

# acquire fig 1 data from fig_1.csv
fig_1_data <- 
  read.csv(file=here("data/fig_1.csv"))

# acquire fig 2 a data from figs_2a_2b.csv
fig_2a_data <-
  read.csv((file=here("data/figs_2a_2b.csv")))

fig_2a_data <- fig_2a_data %>% select(year, brate_1519, brate_2024, brate_2529, brate_3034, brate_3539, brate_4044)

fig_2a_data_long <- fig_2a_data %>%
  pivot_longer(cols = -year, names_to = "Age_Group", values_to = "Birth_Rate")

# acquire fig 2 d data from figs_1_2_3.csv
fig_2d_data <-
  read.csv((file=here("data/figs_1_2_3.csv")))

fig_2d_data <- fig_2d_data %>% select(year, brate_hsdropout,	brate_hsgrad,	brate_somecol,	brate_colgrad)

fig_2d_data <- na.omit(fig_2d_data)

fig_2d_data_long <- fig_2d_data %>%
  pivot_longer(cols = -year, names_to = "Education_Level", values_to = "Birth_Rate")

# acquire fig 5 data from nchs_cohort_analysis.dta
nchs_cohort_data <- 
  read_dta(here("data/nchs_cohort_analysis.dta"))
```

\newpage
# Introduction

The United States has been experiencing heavy fluctuations in birth rates for nearly half a century with constant decline since 2007. The birth rate of a country is representative of its socioeconomic state, political state, and future prosperity. Furthermore, it determines the decision-making and distribution of government resources, education, health care services, and urban planning. This alarming issue leaves many seeking an explanation as to what exactly is causing this phenomenon. While people may point fingers at the ever changing societal norm, evolving ideology on family structure, or to no fault but the government, this paper aims to expose the possible explanations to the plummeting birth rate in the United States of America.

The nations birth rate has fallen significantly since 2007, dropping but about 23% by 2022, measured by number of births per 1000 women [@citeAxios] and that birth rates tend to fall as based on the economy. 2007 marks the start of the most severe economic crisis the world has ever faced, spanning the years 2007 until 2009. The events of this crisis has had long lasting damage on the economy, with unemployment doubling and the crash of the housing market [@citeFDR]. These poor economic conditions and the unusually slow recovery of the economy would play a large role in the decision to have children, as an unpredictable economic environment makes people feel less secure about raising a family, thus contributing to the recorded decline in birth rates. This is just one of various factors that we will be exploring in this paper to observe any trends and correlations between societal and economic shifts and the dwindling birth rate in the US.

Throughout the rest of this paper, we will be delving into the statistics with regards to birth rates in the US and observe any trends we can find. In the data and results sections of this paper, we examine and analyze the information reported by the AEA by downloading and cleaning the data sets. After that, we will look into the results sections to look for trends and other insights that can be uncovered from our research, and finally discuss and summarize all of our findings in the conclusion.

# Data

## Data source


```{r graph1, fig.cap="Trend in US Birth Rates from 1980 - 2020", echo=FALSE}
#| echo: false
#| message: false
#| warning: false

#| label: fig-1

# replicate figure 1 from the original paper
fig_1_data %>% ggplot(aes(x = year, y = brate_all)) +
  geom_line(color = "#378bd4", size = 1) +
  labs(x = "Year", y = "Births per 1,000 women age 15–44") +
  scale_y_continuous(limits = c(50,80), breaks = seq(50, 80, by = 5)) +
  scale_x_continuous(limits = c(1980,2020), breaks = seq(1980, 2020, by = 5)) +
  theme_classic()
```

```{r graph2, fig.cap="Trends in Birth Rates by Population Subgroup", echo=FALSE}
#| echo: false
#| message: false
#| warning: false
#| label: fig-2

# replicate figure 2a from the original paper
fig_2a_data_long %>% ggplot(aes(x = year, y = Birth_Rate, color = Age_Group)) +
  geom_line(size = 1) +
  labs(x = "Year", y = "Births per 1,000 women in relevant population subgroup", color = "Age Group", caption = "Five-year age group") +
  scale_y_continuous(limits = c(0, 140), breaks = seq(0, 150, by = 20)) +
  scale_x_continuous(limits = c(1980, 2020), breaks = seq(1980, 2020, by = 5)) +
  geom_text(aes(x = 1985, y = 120), label = "Age 25-29", color = "black") +
  geom_text(aes(x = 1985, y = 105), label = "Age 20-24", color = "black") +
  geom_text(aes(x = 1985, y = 80), label = "Age 30-34", color = "black") +
  geom_text(aes(x = 1985, y = 58), label = "Age 15-19", color = "black") +
  geom_text(aes(x = 1985, y = 33), label = "Age 35-39", color = "black") +
  geom_text(aes(x = 1985, y = 10), label = "Age 40-44", color = "black") +
  theme_classic() +
  theme(legend.position = "none")


# replicate figure 2d from the original paper
fig_2d_data_long %>% ggplot(aes(x = year, y = Birth_Rate, color = Education_Level)) +
  geom_line(size = 1) +
  labs(x = "Year", y = "Births per 1,000 women in relevant population subgroup", color = "Education Level", caption = "Mother’s level of education (ages 20–44)") +
  scale_y_continuous(limits = c(0, 140), breaks = seq(0, 150, by = 20)) +
  scale_x_continuous(limits = c(1990, 2020), breaks = seq(1990, 2020, by = 5)) +
  geom_text(aes(x = 1995, y = 105), label = "No high school degree", color = "black") +
  geom_text(aes(x = 1995, y = 75), label = "College graduate
", color = "#d44215") +
  theme_classic() +
  geom_text(aes(x = 1995, y = 65), label = "High school graduate", color = "#0cc4be") +
  geom_text(aes(x = 1995, y = 45), label = "Some college", color = "black") +
  theme_classic() +
  theme(legend.position = "none")
```

```{r graph3, fig.cap="Children Ever Born by Mother’s Age and Birth Cohort", echo=FALSE}
#| echo: false
#| message: false
#| warning: false
#| label: fig-3


```
# References


